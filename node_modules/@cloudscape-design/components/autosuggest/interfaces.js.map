{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../src/autosuggest/interfaces.ts"],"names":[],"mappings":"","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ReactNode } from 'react';\n\nimport { BaseInputProps, InputAutoCorrect, InputClearLabel, InputKeyEvents, InputProps } from '../input/interfaces';\nimport { BaseComponentProps } from '../internal/base-component';\nimport {\n  BaseDropdownHostProps,\n  OptionsFilteringType,\n  OptionsLoadItemsDetail,\n} from '../internal/components/dropdown/interfaces';\nimport { DropdownStatusProps } from '../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../internal/context/form-field-context';\nimport { NonCancelableEventHandler } from '../internal/events';\n\nexport interface AutosuggestProps\n  extends BaseComponentProps,\n    BaseInputProps,\n    InputAutoCorrect,\n    BaseDropdownHostProps,\n    InputKeyEvents,\n    InputClearLabel,\n    FormFieldValidationControlProps,\n    DropdownStatusProps {\n  /**\n   * Specifies an array of options that are displayed to the user as a dropdown list.\n   * The options can be grouped using `OptionGroup` objects.\n   *\n   * #### Option\n   * - `value` (string) - The returned value of the option when selected.\n   * - `label` (string) - (Optional) Option text displayed to the user.\n   * - `lang` (string) - (Optional) The language of the option, provided as a BCP 47 language tag.\n   * - `description` (string) - (Optional) Further information about the option that appears below the label.\n   * - `disabled` (boolean) - (Optional) Determines whether the option is disabled.\n   * - `labelTag` (string) - (Optional) A label tag that provides additional guidance, shown next to the label.\n   * - `tags` [string[]] - (Optional) A list of tags giving further guidance about the option.\n   * - `filteringTags` [string[]] - (Optional) A list of additional tags used for automatic filtering.\n   * - `iconName` (string) - (Optional) Specifies the name of an [icon](/components/icon/) to display in the option.\n   * - `iconAriaLabel` (string) - (Optional) Specifies alternate text for the icon. We recommend that you provide this for accessibility.\n   * - `iconAlt` (string) - (Optional) **Deprecated**, replaced by \\`iconAriaLabel\\`. Specifies alternate text for a custom icon, for use with `iconUrl`.\n   * - `iconUrl` (string) - (Optional) URL of a custom icon.\n   * - `iconSvg` (ReactNode) - (Optional) Custom SVG icon. Equivalent to the `svg` slot of the [icon component](/components/icon/).\n   *\n   * #### OptionGroup\n   * - `label` (string) - Option group text displayed to the user.\n   * - `disabled` (boolean) - (Optional) Determines whether the option group is disabled.\n   * - `options` (Option[]) - (Optional) The options under this group.\n   *\n   * Note: Only one level of option nesting is supported.\n   *\n   * If you want to use the built-in filtering capabilities of this component, provide\n   * a list of all valid options here and they will be automatically filtered based on the user's filtering input.\n   *\n   * Alternatively, you can listen to the `onChange` or `onLoadItems` event and set new options\n   * on your own.\n   **/\n  options?: AutosuggestProps.Options;\n\n  /**\n   * Specifies a render function to render custom options in the dropdown menu.\n   *\n   * The item inside the props has a different shape depending on its type:\n   *\n   *\n   * ### item\n   *\n   * - `type` ('item') - The item type.\n   * - `index` (number) - The item's absolute position in the dropdown.\n   * - `option` (Option) - The original option configuration.\n   * - `disabled` (boolean) - Whether the item is disabled.\n   * - `highlighted` (boolean) - Whether the item is currently highlighted.\n   * - `selected` (boolean) - Whether the item is selected.\n   * - `parent` (OptionGroupRenderItem | null) - The parent group item, if any.\n   *\n   * ### group\n   *\n   * - `type` ('group') - The item type.\n   * - `index` (number) - The item's absolute position in the dropdown.\n   * - `option` (OptionGroup) - The original option configuration.\n   * - `disabled` (boolean) - Whether the item is disabled.\n   *\n   * ### entered-text\n   *\n   * - `type` ('entered-text') - The item type.\n   * - `option` (Option) - The entered-text option configuration.\n   *\n   * When providing a custom `renderOption` implementation, it fully replaces the default visual rendering and content for that item.\n   * The component still manages focus, keyboard interactions, and selection state, but it no longer applies its default item layout or typography.\n   *\n   * When returning `null`, the default rendering will be applied for that item.\n   *\n   * @awsuiSystem core\n   */\n  renderOption?: AutosuggestProps.ItemRenderer;\n\n  /**\n   * Determines how filtering is applied to the list of `options`:\n   *\n   * * `auto` - The component will automatically filter options based on user input.\n   * * `manual` - You will set up `onChange` or `onLoadItems` event listeners and filter options on your side or request\n   * them from server.\n   *\n   * By default the component will filter the provided `options` based on the value of the filtering input field.\n   * Only options that have a `value`, `label`, `description` or `labelTag` that contains the input value as a substring\n   * are displayed in the list of options.\n   *\n   * If you set this property to `manual`, this default filtering mechanism is disabled and all provided `options` are\n   * displayed in the dropdown list. In that case make sure that you use the `onChange` or `onLoadItems` events in order\n   * to set the `options` property to the options that are relevant for the user, given the filtering input value.\n   *\n   * Note: Manual filtering doesn't disable match highlighting.\n   **/\n  filteringType?: OptionsFilteringType;\n\n  /**\n   * Specifies a function that generates the custom value indicator (for example, `Use \"${value}\"`).\n   * @i18n\n   */\n  enteredTextLabel?: AutosuggestProps.EnteredTextLabel;\n\n  /**\n   * Defines whether entered text option is shown as the first option in the dropdown when value is non-empty.\n   */\n  hideEnteredTextOption?: boolean;\n\n  /**\n   * Specifies the text to display with the number of matches at the bottom of the dropdown menu while filtering.\n   *\n   * Note that the `matchesCount` includes the `enteredTextLabel` (\"Use ${value}\") item, so in most cases you\n   * should subtract 1 from `matchesCount`. If using manual filtering, you should provide your own value for `totalCount`.\n   */\n  filteringResultsText?: (matchesCount: number, totalCount: number) => string;\n\n  /**\n   * Specifies the text that's displayed when there aren't any suggestions to display.\n   * This is displayed when `statusType` is set to `finished` or it's not set at all.\n   */\n  empty?: React.ReactNode;\n\n  /**\n   * Called whenever a user selects an option in the dropdown. Don't use this event as the only way to handle user input.\n   * Instead, use `onSelect` in combination with the `onChange` handler only as an optional convenience for the user.\n   */\n  onSelect?: NonCancelableEventHandler<AutosuggestProps.SelectDetail>;\n\n  /**\n   * Specifies the localized string that describes an option as being selected.\n   * This is required to provide a good screen reader experience. For more information, see the\n   * [accessibility guidelines](/components/autosuggest/?tabId=usage#accessibility-guidelines).\n   * @i18n\n   */\n  selectedAriaLabel?: string;\n  /**\n   * Overrides the element that is announced to screen readers\n   * when the highlighted option changes. By default, this announces\n   * the option's name and properties, and its selected state if\n   * the `selectedAriaLabel` property is defined.\n   * The highlighted option is provided, and its group (if groups\n   * are used and it differs from the group of the previously highlighted option).\n   *\n   * For more information, see the\n   * [accessibility guidelines](/components/autosuggest/?tabId=usage#accessibility-guidelines).\n   */\n  renderHighlightedAriaLive?: AutosuggestProps.ContainingOptionAndGroupString;\n\n  /**\n   * @awsuiSystem core\n   */\n  style?: AutosuggestProps.Style;\n}\n\nexport namespace AutosuggestProps {\n  export type ChangeDetail = InputProps.ChangeDetail;\n  export type KeyDetail = InputProps.KeyDetail;\n  export type FilteringType = OptionsFilteringType;\n  export type Option = OptionDefinition;\n  export type Options = ReadonlyArray<Option | OptionGroup>;\n  export type EnteredTextLabel = (value: string) => string;\n  export interface OptionGroup extends Option {\n    label?: string;\n    options: ReadonlyArray<Option>;\n  }\n  export type LoadItemsDetail = OptionsLoadItemsDetail;\n  export type StatusType = DropdownStatusProps.StatusType;\n  export interface SelectDetail {\n    value: string;\n    selectedOption?: Option;\n  }\n\n  export interface ContainingOptionAndGroupString {\n    (option: Option, group?: OptionGroup): string;\n  }\n\n  export interface OptionRenderItem {\n    type: 'item';\n    index: number;\n    option: Option;\n    disabled: boolean;\n    highlighted: boolean;\n    selected: boolean;\n    parent: OptionGroupRenderItem | null;\n  }\n  export interface OptionGroupRenderItem {\n    type: 'group';\n    index: number;\n    option: OptionGroup;\n    disabled: boolean;\n  }\n  export interface EnteredTextRenderItem {\n    type: 'entered-text';\n    option: Option;\n    highlighted: boolean;\n  }\n  export type RenderItem = OptionRenderItem | OptionGroupRenderItem | EnteredTextRenderItem;\n  export type ItemRenderer = (props: { item: RenderItem; filterText?: string }) => ReactNode | null;\n\n  export interface Ref {\n    /**\n     * Sets input focus onto the UI control.\n     */\n    focus(): void;\n\n    /**\n     * Selects all text in the input control.\n     */\n    select(): void;\n  }\n\n  export interface Style {\n    root?: {\n      backgroundColor?: {\n        default?: string;\n        disabled?: string;\n        focus?: string;\n        hover?: string;\n        readonly?: string;\n      };\n      borderColor?: {\n        default?: string;\n        disabled?: string;\n        focus?: string;\n        hover?: string;\n        readonly?: string;\n      };\n      borderRadius?: string;\n      borderWidth?: string;\n      boxShadow?: {\n        default?: string;\n        disabled?: string;\n        focus?: string;\n        hover?: string;\n        readonly?: string;\n      };\n      color?: {\n        default?: string;\n        disabled?: string;\n        focus?: string;\n        hover?: string;\n        readonly?: string;\n      };\n      fontSize?: string;\n      fontWeight?: string;\n      paddingBlock?: string;\n      paddingInline?: string;\n    };\n    placeholder?: {\n      color?: string;\n      fontSize?: string;\n      fontStyle?: string;\n      fontWeight?: string;\n    };\n  }\n}\n\n// TODO: use DropdownOption type same as in select and multiselect\nexport type AutosuggestItem = (AutosuggestProps.Option | AutosuggestProps.OptionGroup) & {\n  type?: 'parent' | 'child' | 'use-entered';\n  option: OptionDefinition | OptionGroup;\n  parent?: OptionGroup;\n};\n"]}