{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../src/tree-view/utils.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AAMtC,oFAAoF;AACpF,MAAM,UAAU,yBAAyB,CAAI,EAC3C,KAAK,EACL,aAAa,EACb,SAAS,EACT,eAAe,GAMhB;IACC,MAAM,kBAAkB,GAAoB,EAAE,CAAC;IAC/C,IAAI,YAAY,GAAG,CAAC,CAAC;IAErB,MAAM,QAAQ,GAAG,CAAC,IAAO,EAAE,KAAa,EAAE,EAAE;QAC1C,MAAM,MAAM,GAAG,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACtC,MAAM,QAAQ,GAAG,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAE9C,kBAAkB,CAAC,MAAM,CAAC,GAAG,YAAY,CAAC;QAC1C,YAAY,IAAI,CAAC,CAAC;QAElB,MAAM,UAAU,GAAG,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,KAAI,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,QAAQ,CAAC,MAAM,CAAC,CAAA,CAAC;QACtF,IAAI,UAAU,EAAE,CAAC;YACf,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC,CAAC;IAEF,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;IAEtD,OAAO,kBAAkB,CAAC;AAC5B,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\ninterface IndicesByItemId {\n  [key: string]: number;\n}\n\n// Flattens the items and assigns indices in ascending order for keyboard navigation\nexport function getAllVisibleItemsIndices<T>({\n  items,\n  expandedItems,\n  getItemId,\n  getItemChildren,\n}: {\n  items: ReadonlyArray<T>;\n  expandedItems?: ReadonlyArray<string>;\n  getItemId: (item: T, index: number) => string;\n  getItemChildren: (item: T, index: number) => ReadonlyArray<T> | undefined;\n}) {\n  const allIndicesByItemId: IndicesByItemId = {};\n  let currentIndex = 0;\n\n  const traverse = (item: T, index: number) => {\n    const itemId = getItemId(item, index);\n    const children = getItemChildren(item, index);\n\n    allIndicesByItemId[itemId] = currentIndex;\n    currentIndex += 1;\n\n    const isExpanded = children && children.length > 0 && expandedItems?.includes(itemId);\n    if (isExpanded) {\n      children.forEach((child, index) => traverse(child, index));\n    }\n  };\n\n  items.forEach((item, index) => traverse(item, index));\n\n  return allIndicesByItemId;\n}\n"]}