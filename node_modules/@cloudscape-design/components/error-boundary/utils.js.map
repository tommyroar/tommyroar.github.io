{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../src/error-boundary/utils.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AAEtC,wHAAwH;AACxH,2GAA2G;AAC3G,MAAM,UAAU,aAAa;IAC3B,IAAI,CAAC;QACH,6EAA6E;QAC7E,KAAK,YAAY,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;QAClC,OAAO,IAAI,CAAC;IACd,CAAC;IAAC,MAAM,CAAC;QACP,OAAO,KAAK,CAAC;IACf,CAAC;AACH,CAAC;AAED,MAAM,UAAU,WAAW;IACzB,IAAI,CAAC;QACH,YAAY,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACnC,CAAC;IAAC,MAAM,CAAC;QACP,OAAO;IACT,CAAC;AACH,CAAC;AAED,qGAAqG;AACrG,SAAS,YAAY;;IACnB,OAAO,MAAA,MAAM,CAAC,GAAG,mCAAI,MAAM,CAAC;AAC9B,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// The default refresh action reloads the top window to avoid iframe lifecycle getting out of sync with the parent page.\n// This is not possible from cross-origin iframes, in which case the default refresh action must be hidden.\nexport function canUseRefresh(): boolean {\n  try {\n    // In cross-origin iframes, accessing top.location can throw a SecurityError.\n    void getTopWindow().location.href;\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function refreshPage(): void {\n  try {\n    getTopWindow().location.reload();\n  } catch {\n    // noop\n  }\n}\n\n// In browsers, window.top is always defined, but it is treated as optional by our current DOM types.\nfunction getTopWindow(): Window {\n  return window.top ?? window;\n}\n"]}