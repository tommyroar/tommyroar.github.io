{"version":3,"file":"use-widget-messages.js","sourceRoot":"","sources":["../../../../../src/app-layout/visual-refresh-toolbar/state/use-widget-messages.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAElC,OAAO,EAAE,iBAAiB,EAAE,MAAM,+CAA+C,CAAC;AAElF,OAAO,EAAE,2BAA2B,EAAE,wBAAwB,EAAE,MAAM,uCAAuC,CAAC;AAG9G,MAAM,UAAU,iBAAiB,CAAC,SAAkB,EAAE,OAAyC;IAC7F,MAAM,uBAAuB,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAE3D,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,SAAS,EAAE,CAAC;YACf,OAAO;QACT,CAAC;QAED,KAAK,MAAM,OAAO,IAAI,2BAA2B,EAAE,EAAE,CAAC;YACpD,uBAAuB,CAAC,OAAO,CAAC,CAAC;QACnC,CAAC;QAED,OAAO,wBAAwB,CAAC,uBAAuB,CAAC,CAAC;IAC3D,CAAC,EAAE,CAAC,SAAS,EAAE,uBAAuB,CAAC,CAAC,CAAC;AAC3C,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getAppLayoutInitialMessages, registerAppLayoutHandler } from '../../../internal/plugins/widget/core';\nimport { WidgetMessage } from '../../../internal/plugins/widget/interfaces';\n\nexport function useWidgetMessages(isEnabled: boolean, handler: (message: WidgetMessage) => void) {\n  const appLayoutMessageHandler = useStableCallback(handler);\n\n  useEffect(() => {\n    if (!isEnabled) {\n      return;\n    }\n\n    for (const message of getAppLayoutInitialMessages()) {\n      appLayoutMessageHandler(message);\n    }\n\n    return registerAppLayoutHandler(appLayoutMessageHandler);\n  }, [isEnabled, appLayoutMessageHandler]);\n}\n"]}