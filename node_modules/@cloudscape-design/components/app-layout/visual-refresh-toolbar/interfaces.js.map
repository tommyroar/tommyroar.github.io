{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../../src/app-layout/visual-refresh-toolbar/interfaces.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\n\nimport { BreadcrumbGroupProps } from '../../breadcrumb-group/interfaces';\nimport { ButtonGroupProps } from '../../button-group/interfaces';\nimport { SplitPanelSideToggleProps } from '../../internal/context/split-panel-context';\nimport { NonCancelableEventHandler } from '../../internal/events';\nimport { SomeOptional } from '../../internal/types';\nimport { AppLayoutProps, AppLayoutPropsWithDefaults } from '../interfaces';\nimport { SplitPanelProviderProps } from '../split-panel';\nimport { OnChangeParams } from '../utils/use-drawers';\nimport { FocusControlMultipleStates, FocusControlState } from '../utils/use-focus-control';\nimport { SplitPanelFocusControlState } from '../utils/use-split-panel-focus-control';\nimport { VerticalLayoutOutput } from './compute-layout';\n\nexport interface AppLayoutInternalProps extends AppLayoutPropsWithDefaults {\n  navigationTriggerHide?: boolean;\n}\n\nexport type InternalDrawer = AppLayoutProps.Drawer & {\n  defaultActive?: boolean;\n  isExpandable?: boolean;\n  ariaLabels: AppLayoutProps.Drawer['ariaLabels'] & { expandedModeButton?: string; exitExpandedModeButton?: string };\n  header?: React.ReactNode;\n  headerActions?: ReadonlyArray<ButtonGroupProps.Item>;\n  onHeaderActionClick?: NonCancelableEventHandler<ButtonGroupProps.ItemClickDetails>;\n  position?: 'side' | 'bottom';\n  onToggleFocusMode?: NonCancelableEventHandler<{ isExpanded: boolean }>;\n};\n\n// Widgetization notice: structures in this file are shared multiple app layout instances, possibly different minor versions.\n// Treat these structures as an API and do not make incompatible changes.\n// Legacy widget interface\nexport interface AppLayoutInternals {\n  ariaLabels: AppLayoutPropsWithDefaults['ariaLabels'];\n  headerVariant: AppLayoutPropsWithDefaults['headerVariant'];\n  placement: AppLayoutPropsWithDefaults['placement'];\n  navigationOpen: AppLayoutPropsWithDefaults['navigationOpen'];\n  navigationFocusControl: FocusControlState;\n  navigation: React.ReactNode;\n  splitPanelPosition: AppLayoutProps.SplitPanelPreferences['position'];\n  splitPanelOpen: boolean;\n  splitPanelControlId: string;\n  splitPanelFocusControl: SplitPanelFocusControlState;\n  splitPanelToggleConfig: SplitPanelSideToggleProps;\n  isMobile: boolean;\n  activeDrawer: InternalDrawer | undefined;\n  activeDrawerSize: number;\n  minDrawerSize: number;\n  maxDrawerSize: number;\n  minGlobalDrawersSizes: Record<string, number>;\n  maxGlobalDrawersSizes: Record<string, number>;\n  drawers: ReadonlyArray<InternalDrawer>;\n  drawersFocusControl: FocusControlState;\n  globalDrawersFocusControl: FocusControlMultipleStates;\n  activeGlobalDrawersIds: ReadonlyArray<string>;\n  activeGlobalDrawers: ReadonlyArray<InternalDrawer>;\n  globalDrawers: ReadonlyArray<InternalDrawer>;\n  activeGlobalDrawersSizes: Record<string, number>;\n  stickyNotifications: AppLayoutPropsWithDefaults['stickyNotifications'];\n  breadcrumbs: React.ReactNode;\n  discoveredBreadcrumbs: BreadcrumbGroupProps | null;\n  toolbarState: 'show' | 'hide';\n  setToolbarState: (state: 'show' | 'hide') => void;\n  verticalOffsets: VerticalLayoutOutput;\n  drawersOpenQueue: ReadonlyArray<string>;\n  setNotificationsHeight: (height: number) => void;\n  setToolbarHeight: (height: number) => void;\n  onSplitPanelToggle: () => void;\n  onNavigationToggle: (open: boolean) => void;\n  onActiveDrawerChange: (newDrawerId: string | null, params: OnChangeParams) => void;\n  onActiveDrawerResize: (detail: { id: string; size: number }) => void;\n  onActiveGlobalDrawersChange: (newDrawerId: string, params: OnChangeParams) => void;\n  splitPanelAnimationDisabled?: boolean;\n  expandedDrawerId: string | null;\n  setExpandedDrawerId: (value: string | null) => void;\n  aiDrawer?: InternalDrawer | null;\n  onActiveAiDrawerChange?: (newDrawerId: string | null, params?: OnChangeParams) => void;\n  activeAiDrawer?: InternalDrawer | null;\n  activeAiDrawerId: string | null;\n  activeAiDrawerSize?: number;\n  minAiDrawerSize?: number;\n  maxAiDrawerSize?: number;\n  aiDrawerFocusControl?: FocusControlState;\n  onActiveAiDrawerResize: (size: number) => void;\n}\n\nexport interface AppLayoutWidgetizedState extends AppLayoutInternals {\n  isNested: boolean;\n  verticalOffsets: VerticalLayoutOutput;\n  navigationAnimationDisabled: boolean;\n  aiDrawerExpandedMode: boolean;\n  splitPanelOffsets: {\n    stickyVerticalBottomOffset: number;\n    mainContentPaddingBlockEnd: number | undefined;\n  };\n  activeGlobalBottomDrawerId: string | null;\n  onActiveGlobalBottomDrawerChange: (value: string | null, params: OnChangeParams) => void;\n  activeGlobalBottomDrawerSize: number;\n  minGlobalBottomDrawerSize: number;\n  bottomDrawerReportedSize: number;\n  getMaxGlobalBottomDrawerHeight: () => number;\n  reportBottomDrawerSize: (size: number) => void;\n  bottomDrawersFocusControl: FocusControlState;\n  onActiveBottomDrawerResize: ({ id, size }: { id: string; size: number }) => void;\n  bottomDrawers: ReadonlyArray<InternalDrawer>;\n}\n\n// New widget interface\nexport interface AppLayoutState {\n  rootRef: React.Ref<HTMLElement>;\n  isIntersecting: boolean;\n  // new state management\n  widgetizedState: AppLayoutWidgetizedState;\n  // the old object shape for backward compatibility\n  appLayoutInternals: AppLayoutInternals;\n  splitPanelInternals: SplitPanelProviderProps;\n}\n\nexport type AppLayoutPendingState = SomeOptional<\n  AppLayoutState,\n  'appLayoutInternals' | 'splitPanelInternals' | 'widgetizedState' | 'rootRef'\n>;\n"]}