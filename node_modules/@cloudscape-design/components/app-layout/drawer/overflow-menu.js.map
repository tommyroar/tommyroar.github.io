{"version":3,"file":"overflow-menu.js","sourceRoot":"","sources":["../../../../src/app-layout/drawer/overflow-menu.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,KAAK,MAAM,OAAO,CAAC;AAO1B,OAAO,sBAAsB,MAAM,gCAAgC,CAAC;AAIpE,OAAO,cAAc,MAAM,+BAA+B,CAAC;AAY3D,MAAM,eAAe,GAAG,CAAC,MAAc,EAAE,cAAuB,EAAE,EAAE,CAAC,CAAC;IACpE,EAAE,EAAE,MAAM,CAAC,EAAE;IACb,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,UAAU;IAClC,QAAQ,EAAE,MAAM,CAAC,OAAQ,CAAC,QAAQ;IAClC,OAAO,EAAE,MAAM,CAAC,OAAQ,CAAC,OAAO;IAChC,KAAK,EAAE,MAAM,CAAC,KAAK;IACnB,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAE,UAA2C,CAAC,CAAC,CAAC,SAAS;IACnF,OAAO,EAAE,MAAM,CAAC,MAAM;CACvB,CAAC,CAAC;AAEH,MAAM,CAAC,OAAO,UAAU,YAAY,CAAC,EACnC,KAAK,EAAE,OAAO,EACd,WAAW,EACX,oBAAoB,EACpB,SAAS,EACT,uBAAuB,GACL;IAClB,MAAM,gBAAgB,GAAG,uBAAuB,KAAK,SAAS,CAAC;IAC/D,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAChD,eAAe,CAAC,IAAI,EAAE,gBAAgB,IAAI,KAAK,IAAI,uBAAuB,CAAC,CAC5E,CAAC;IACF,IAAI,KAAyC,CAAC;IAC9C,IAAI,gBAAgB,EAAE,CAAC;QACrB,KAAK,GAAG;YACN,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,uBAAuB,CAAC,EAAE;YAC1D,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,CAAC,uBAAuB,CAAC,EAAE;SACxD,CAAC;IACJ,CAAC;SAAM,CAAC;QACN,KAAK,GAAG,aAAa,CAAC;IACxB,CAAC;IAED,OAAO,CACL,oBAAC,sBAAsB,IACrB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,cAAc,CAAC,eAAe,CAAC,EAC1C,WAAW,EAAE,WAAW,EACxB,SAAS,EAAE,SAAS,EACpB,OAAO,EAAC,MAAM,EACd,oBAAoB,EAAE,oBAAoB,EAC1C,gBAAgB,EAAE,IAAI,GACtB,CACH,CAAC;AACJ,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport {\n  ButtonDropdownProps,\n  InternalButtonDropdownProps,\n  InternalItemOrGroup,\n} from '../../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../../button-dropdown/internal';\nimport { CancelableEventHandler } from '../../internal/events';\nimport { AppLayoutProps } from '../interfaces';\n\nimport testutilStyles from '../test-classes/styles.css.js';\n\ntype Drawer = AppLayoutProps.Drawer & { active?: boolean };\n\ninterface OverflowMenuProps {\n  items: Array<Drawer>;\n  onItemClick: CancelableEventHandler<ButtonDropdownProps.ItemClickDetails>;\n  customTriggerBuilder?: InternalButtonDropdownProps['customTriggerBuilder'];\n  ariaLabel?: string;\n  globalDrawersStartIndex?: number;\n}\n\nconst mapDrawerToItem = (drawer: Drawer, isTypeCheckbox: boolean) => ({\n  id: drawer.id,\n  text: drawer.ariaLabels.drawerName,\n  iconName: drawer.trigger!.iconName,\n  iconSvg: drawer.trigger!.iconSvg,\n  badge: drawer.badge,\n  itemType: isTypeCheckbox ? ('checkbox' as ButtonDropdownProps.ItemType) : undefined,\n  checked: drawer.active,\n});\n\nexport default function OverflowMenu({\n  items: drawers,\n  onItemClick,\n  customTriggerBuilder,\n  ariaLabel,\n  globalDrawersStartIndex,\n}: OverflowMenuProps) {\n  const hasGlobalDrawers = globalDrawersStartIndex !== undefined;\n  const itemsFlatList = drawers.map((item, index) =>\n    mapDrawerToItem(item, hasGlobalDrawers && index >= globalDrawersStartIndex)\n  );\n  let items: ReadonlyArray<InternalItemOrGroup>;\n  if (hasGlobalDrawers) {\n    items = [\n      { items: itemsFlatList.slice(0, globalDrawersStartIndex) },\n      { items: itemsFlatList.slice(globalDrawersStartIndex) },\n    ];\n  } else {\n    items = itemsFlatList;\n  }\n\n  return (\n    <InternalButtonDropdown\n      items={items}\n      className={testutilStyles['overflow-menu']}\n      onItemClick={onItemClick}\n      ariaLabel={ariaLabel}\n      variant=\"icon\"\n      customTriggerBuilder={customTriggerBuilder}\n      expandToViewport={true}\n    />\n  );\n}\n"]}