{"version":3,"file":"submenu.js","sourceRoot":"","sources":["../../../../../../src/top-navigation/parts/overflow-menu/views/submenu.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,IAAI,MAAM,MAAM,CAAC;AAExB,OAAO,EAAE,WAAW,EAAE,MAAM,+CAA+C,CAAC;AAE5E,OAAO,SAAS,MAAM,4CAA4C,CAAC;AACnE,OAAO,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,MAAM,6BAA6B,CAAC;AAGpF,OAAO,MAAM,MAAM,WAAW,CAAC;AAC/B,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAC3C,OAAO,EAAE,WAAW,EAAE,MAAM,WAAW,CAAC;AAExC,OAAO,MAAM,MAAM,wBAAwB,CAAC;AAO5C,MAAM,WAAW,GAAG,CAAC,EACnB,OAAO,EACP,YAAY,EACZ,UAAU,EACV,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,EACjB,UAAU,GACO,EAAE,EAAE;IACrB,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;IAC/B,MAAM,QAAQ,GAAG,WAAW,CAAC,sBAAsB,CAAC,CAAC;IAErD,OAAO,CACL,oBAAC,SAAS,IAAC,SAAS,EAAE,IAAI;QACxB,oBAAC,MAAM,IACL,aAAa,EAAE,mBAAmB,EAClC,oBAAoB,EAAE,oBAAoB,EAC1C,iBAAiB,EAAE,iBAAiB,EACpC,OAAO,EAAE,OAAO,EAChB,MAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE,EAAE,YAAY,EAAE,CAAC;YAErD,8BAAM,EAAE,EAAE,QAAQ,IAAG,UAAU,CAAQ,CAChC;QACT,4BACE,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAE,MAAM,CAAC,4BAA4B,CAAC,CAAC,qBAClE,QAAQ,IAEvB,UAAqD,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CACjF,oBAAC,WAAW,IACV,GAAG,EAAE,KAAK,KACN,IAAI,EACR,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;gBACvB,IAAI,IAAI,CAAC,IAAI,IAAI,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC;oBACzC,mBAAmB,CACjB,UAAU,CAAC,YAAY,EACvB,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EACzD,KAAK,CACN,CAAC;gBACJ,CAAC;gBAED,mBAAmB,CACjB,UAAU,CAAC,WAAW,EACtB,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EACzD,KAAK,CACN,CAAC;gBACF,OAAO,aAAP,OAAO,uBAAP,OAAO,EAAI,CAAC;YACd,CAAC,GACD,CACH,CAAC,CACC,CACK,CACb,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '@cloudscape-design/component-toolkit/internal';\n\nimport FocusLock from '../../../../internal/components/focus-lock';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../../../internal/events';\nimport { TopNavigationProps } from '../../../interfaces';\nimport { View } from '..';\nimport Header from '../header';\nimport { SubmenuItem } from '../menu-item';\nimport { useNavigate } from '../router';\n\nimport styles from '../../../styles.css.js';\n\ninterface SubmenuViewProps extends View {\n  definition: TopNavigationProps.MenuDropdownUtility;\n  utilityIndex?: number;\n}\n\nconst SubmenuView = ({\n  onClose,\n  utilityIndex,\n  headerText,\n  headerSecondaryText,\n  dismissIconAriaLabel,\n  backIconAriaLabel,\n  definition,\n}: SubmenuViewProps) => {\n  const navigate = useNavigate();\n  const headerId = useUniqueId('overflow-menu-header');\n\n  return (\n    <FocusLock autoFocus={true}>\n      <Header\n        secondaryText={headerSecondaryText}\n        dismissIconAriaLabel={dismissIconAriaLabel}\n        backIconAriaLabel={backIconAriaLabel}\n        onClose={onClose}\n        onBack={() => navigate('utilities', { utilityIndex })}\n      >\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul\n        className={clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu'])}\n        aria-labelledby={headerId}\n      >\n        {(definition as TopNavigationProps.MenuDropdownUtility).items.map((item, index) => (\n          <SubmenuItem\n            key={index}\n            {...item}\n            onClick={(event, item) => {\n              if (item.href && isPlainLeftClick(event)) {\n                fireCancelableEvent(\n                  definition.onItemFollow,\n                  { id: item.id, href: item.href, external: item.external },\n                  event\n                );\n              }\n\n              fireCancelableEvent(\n                definition.onItemClick,\n                { id: item.id, href: item.href, external: item.external },\n                event\n              );\n              onClose?.();\n            }}\n          />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default SubmenuView;\n"]}