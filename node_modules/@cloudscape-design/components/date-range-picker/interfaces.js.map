{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../src/date-range-picker/interfaces.ts"],"names":[],"mappings":"","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { CalendarProps } from '../calendar/interfaces';\nimport { BaseComponentProps } from '../internal/base-component';\nimport { ExpandToViewport } from '../internal/components/dropdown/interfaces';\nimport { FormFieldValidationControlProps } from '../internal/context/form-field-context';\nimport { NonCancelableEventHandler } from '../internal/events';\nimport { DateFormat, EditableDateFormat } from '../internal/utils/date-time/interfaces';\nimport { TimeInputProps } from '../time-input/interfaces';\n\nexport interface DateRangePickerBaseProps {\n  /**\n   * The current date range value. Can be either an absolute time range\n   * or a relative time range.\n   */\n  value: null | DateRangePickerProps.Value;\n\n  /**\n   * A list of relative time ranges that are shown as suggestions.\n   */\n  relativeOptions: ReadonlyArray<DateRangePickerProps.RelativeOption>;\n\n  /**\n   * A function that defines whether a particular date should be enabled\n   * in the calendar or not. Note that disabling a date in the calendar\n   * still allows users to enter this date via keyboard. We therefore\n   * recommend that you also validate these constraints client- and\n   * server-side, in the same way as for other form elements.\n   */\n  isDateEnabled?: DateRangePickerProps.IsDateEnabledFunction;\n\n  /**\n   * Provides a reason why a particular date in the calendar is not enabled (only when `isDateEnabled` returns `false`).\n   * If provided, the date becomes focusable.\n   * @param date\n   */\n  dateDisabledReason?: DateRangePickerProps.DateDisabledReasonFunction;\n\n  /**\n   * The locale to be used for rendering month names and defining the\n   * starting date of the week. If not provided, it will be determined\n   * from the page and browser locales. Supported values and formats\n   * are as-per the [JavaScript Intl API specification](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#Locale_identification_and_negotiation).\n   */\n  locale?: string;\n\n  /**\n   * Starting day of the week. [0-6] maps to [Sunday-Saturday].\n   * By default the starting day of the week is defined by the locale,\n   * but you can override it using this property.\n   */\n  startOfWeek?: number;\n\n  /**\n   * An object containing all the necessary localized strings required by the component.\n   * @i18n\n   */\n  i18nStrings?: DateRangePickerProps.I18nStrings;\n\n  /**\n   * Hides time inputs and changes the input format to date-only, e.g. 2021-04-06.\n   *\n   * Do not use `dateOnly` flag conditionally. The component does not trigger the value update\n   * when the flag changes which means the value format can become inconsistent.\n   *\n   * This does not apply when the 'granularity' is set to 'month'\n   *\n   * Default: `false`.\n   */\n  dateOnly?: boolean;\n\n  /**\n   * Determines the range selector mode as follows:\n   *\n   * * `default` for combined absolute/relative range selector.\n   * * `absolute-only` for absolute-only range selector.\n   * * `relative-only` for relative-only range selector.\n   *\n   * By default, the range selector mode is `default`.\n   */\n  rangeSelectorMode?: DateRangePickerProps.RangeSelectorMode;\n\n  /**\n   * Specifies the date format to use on the date inputs in the absolute dropdown.\n   *\n   * The format of the input as it is being interacted with. It can take the following values:\n   * * `iso`: ISO 8601 format without time, e.g.: 2024-01-30 (or 2024-01)\n   * * `slashed`: similar to ISO 8601 but with '/' in place of '-'. e.g.: 2024/01/30 (or 2024/01)\n   */\n  dateInputFormat?: DateRangePickerProps.DateInputFormat;\n\n  /**\n   * Specifies the format of the time input for absolute ranges.\n   *\n   * Use to restrict the granularity of time that the user can enter.\n   *\n   * Has no effect when `dateOnly` is true or `granularity` is set to 'month'.\n   */\n  timeInputFormat?: DateRangePickerProps.TimeInputFormat;\n\n  /**\n   * Fired whenever a user changes the component's value.\n   * The event `detail` contains the current value of the field.\n   */\n  onChange?: NonCancelableEventHandler<DateRangePickerProps.ChangeDetail>;\n\n  /**\n   * The time offset from UTC in minutes that should be used to\n   * display and produce values.\n   *\n   * Has no effect when `dateOnly` is true.\n   *\n   * Default: the user's current time offset as provided by the browser.\n   *\n   * @deprecated Use `getTimeOffset` instead.\n   */\n  timeOffset?: number;\n\n  /**\n   * A function that defines timezone offset from UTC in minutes for selected dates.\n   * Use it to define time relative to the desired timezone.\n   *\n   * The function is called for the start date and the end date and takes a UTC date\n   * corresponding the selected value as an argument.\n   *\n   * Has no effect when `dateOnly` is true.\n   *\n   * Default: the user's current time offset as provided by the browser.\n   */\n  getTimeOffset?: DateRangePickerProps.GetTimeOffsetFunction;\n}\nexport interface DateRangePickerProps\n  extends BaseComponentProps,\n    FormFieldValidationControlProps,\n    ExpandToViewport,\n    DateRangePickerBaseProps,\n    Pick<CalendarProps, 'granularity'> {\n  /**\n   * Specifies the placeholder text that is rendered when the value is empty.\n   */\n  placeholder?: string;\n\n  /**\n   * Specifies that the component is disabled, preventing the user from\n   * modifying the value. A disabled component cannot receive focus.\n   */\n  disabled?: boolean;\n\n  /**\n   * Specifies that the component is read-only, preventing the user from\n   * modifying the value. A read-only component can receive focus.\n   */\n  readOnly?: boolean;\n\n  /**\n   * Fired when keyboard focus is set onto the UI control.\n   */\n  onFocus?: NonCancelableEventHandler<null>;\n\n  /**\n   * Fired when keyboard focus is removed from the UI control.\n   */\n  onBlur?: NonCancelableEventHandler<null>;\n\n  /**\n   * A function that defines whether a particular range is valid or not.\n   *\n   * Ensure that your function checks for missing fields in the value.\n   */\n  isValidRange: DateRangePickerProps.ValidationFunction;\n\n  /**\n   * Specifies whether the component should show a button that\n   * allows the user to clear the selected value.\n   */\n  showClearButton?: boolean;\n\n  /**\n   * Specifies an additional control displayed in the dropdown, located below the range calendar.\n   */\n  customAbsoluteRangeControl?: DateRangePickerProps.AbsoluteRangeControl;\n\n  /**\n   * Specifies which time units to allow in the custom relative range control.\n   */\n  customRelativeRangeUnits?: DateRangePickerProps.TimeUnit[];\n\n  /**\n   * Specifies custom content to fully override the relative range tab.\n   * When provided, all default relative range functionality is replaced.\n   */\n  renderRelativeRangeContent?: DateRangePickerProps.RelativeRangeControl;\n\n  /**\n   * Specifies the time format to use for displaying the absolute time range.\n   *\n   * It can take the following values:\n   * * `iso`: ISO 8601 format, e.g.: 2024-01-30T13:32:32+01:00 (or 2024-01-30 when `dateOnly` is true)\n   * * `long-localized`: a more human-readable, localized format, e.g.: January 30, 2024, 13:32:32 (UTC+1) (or January 30, 2024 when `dateOnly` is true)\n   * * `slashed`: similar to ISO 8601 but with '/' in place of '-'. e.g.: 2024/01/30 (or 2024/01)\n   */\n  absoluteFormat?: DateRangePickerProps.AbsoluteFormat;\n\n  /**\n   * Specifies whether to hide the time offset in the displayed absolute time range.\n   * Defaults to `false`.\n   */\n  hideTimeOffset?: boolean;\n}\n\nexport namespace DateRangePickerProps {\n  export type Value = AbsoluteValue | RelativeValue;\n  export interface AbsoluteValue {\n    /**\n     * In ISO8601 format, e.g.: 2021-04-06T17:23:50+02:00 (or 2021-04-06 when `dateOnly` is true)\n     */\n    startDate: string;\n    /**\n     * In ISO8601 format, e.g.: 2021-04-06T17:23:50+02:00 (or 2021-04-06 when `dateOnly` is true)\n     */\n    endDate: string;\n    type: 'absolute';\n  }\n\n  export interface RelativeValue {\n    /**\n     * If provided, used to match this value\n     * to a provided relative option.\n     */\n    key?: string;\n    amount: number;\n    unit: TimeUnit;\n    type: 'relative';\n  }\n  export interface RelativeOption {\n    /**\n     * Used to uniquely identify this relative option.\n     */\n    key: string;\n    amount: number;\n    unit: TimeUnit;\n    type: 'relative';\n  }\n\n  export type TimeUnit = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';\n\n  export type ValidationFunction = (value: Value | null) => ValidationResult;\n\n  export type ValidationResult = ValidRangeResult | InvalidRangeResult;\n\n  export interface ValidRangeResult {\n    valid: true;\n  }\n\n  export interface InvalidRangeResult {\n    valid: false;\n    errorMessage: string;\n  }\n\n  export interface ChangeDetail {\n    /**\n     * The newly selected range of this date range picker.\n     */\n    value: null | Value;\n  }\n\n  export interface IsDateEnabledFunction {\n    (date: Date): boolean;\n  }\n\n  export interface DateDisabledReasonFunction {\n    (date: Date): string;\n  }\n\n  export interface GetTimeOffsetFunction {\n    (date: Date): number;\n  }\n\n  export interface DateTimeStrings {\n    date: string;\n    time: string;\n  }\n\n  export interface PendingAbsoluteValue {\n    start: DateTimeStrings;\n    end: DateTimeStrings;\n  }\n\n  export type AbsoluteRangeControl = (\n    selectedRange: PendingAbsoluteValue,\n    setSelectedRange: React.Dispatch<React.SetStateAction<PendingAbsoluteValue>>\n  ) => React.ReactNode;\n\n  export type RelativeRangeControl = (\n    selectedRange: RelativeValue | null,\n    setSelectedRange: (value: RelativeValue) => void\n  ) => React.ReactNode;\n\n  export type RangeSelectorMode = 'default' | 'absolute-only' | 'relative-only';\n\n  export interface Ref {\n    /**\n     * Sets the browser focus on the UI control\n     */\n    focus(): void;\n  }\n\n  export interface I18nStrings {\n    /**\n     * Adds `aria-label` to the trigger and dropdown.\n     */\n    ariaLabel?: string;\n\n    /**\n     * Adds `aria-labelledby` to the trigger and dropdown.\n     */\n    ariaLabelledby?: string;\n\n    /**\n     * Adds `aria-describedby` to the trigger and dropdown.\n     */\n    ariaDescribedby?: string;\n\n    /**\n     * Label of the mode selection group. In the standard view, it adds 'aria-label' to the group of segments.\n     * In a narrow container the label is visible and attached to the select component.\n     * @i18n\n     */\n    modeSelectionLabel?: string;\n\n    /**\n     * Segment title of the relative range selection mode\n     * @i18n\n     */\n    relativeModeTitle?: string;\n\n    /**\n     * Segment title of the absolute range selection mode\n     * @i18n\n     */\n    absoluteModeTitle?: string;\n\n    /**\n     * Heading for the relative range selection area\n     * @i18n\n     */\n    relativeRangeSelectionHeading?: string;\n\n    /**\n     * Description for the relative range selection area\n     * @i18n\n     */\n    relativeRangeSelectionMonthlyDescription?: string;\n\n    /**\n     * Visible label of the Cancel button\n     * @i18n\n     */\n    cancelButtonLabel?: string;\n\n    /**\n     * Visible label of the Clear and dismiss button\n     * @i18n\n     */\n    clearButtonLabel?: string;\n\n    /**\n     * Visible label of the Apply button\n     * @i18n\n     */\n    applyButtonLabel?: string;\n\n    /**\n     * Formatting function for relative ranges.\n     * This function must convert a relative range to a human-readable string.\n     * @i18n\n     */\n    formatRelativeRange?: (value: RelativeValue) => string;\n\n    /**\n     * Formatting function for time units.\n     *\n     * This function must return a localized form of the unit that fits the provided time value.\n     * @i18n\n     */\n    formatUnit?: (unit: TimeUnit, value: number) => string;\n\n    /**\n     * Visible label for the option for selecting\n     * a custom relative range.\n     * @i18n\n     */\n    customRelativeRangeOptionLabel?: string;\n\n    /**\n     * Visible description for the option for selecting\n     * a custom relative range.\n     * @i18n\n     */\n    customRelativeRangeOptionDescription?: string;\n\n    /**\n     * Visible label for the duration selector for\n     * the custom relative range.\n     * @i18n\n     */\n    customRelativeRangeDurationLabel?: string;\n\n    /**\n     * Placeholder for the duration selector for\n     * the custom relative range.\n     * @i18n\n     */\n    customRelativeRangeDurationPlaceholder?: string;\n\n    /**\n     * Visible label for the unit selector for the\n     * custom relative range.\n     * @i18n\n     */\n    customRelativeRangeUnitLabel?: string;\n\n    /**\n     * Visible label for the Start Month input for the\n     * absolute range.\n     * @i18n\n     */\n    startMonthLabel?: string;\n\n    /**\n     * Visible label for the Start Date input for the\n     * absolute range.\n     * @i18n\n     */\n    startDateLabel?: string;\n\n    /**\n     * Visible label for the Start Time input for the\n     * absolute range.\n     * @i18n\n     */\n    startTimeLabel?: string;\n\n    /**\n     * Visible label for the End Month input for the\n     * absolute range.\n     * @i18n\n     */\n    endMonthLabel?: string;\n\n    /**\n     * Visible label for the End Date input for the\n     * absolute range.\n     * @i18n\n     */\n    endDateLabel?: string;\n\n    /**\n     * Visible label for the End Time input for the absolute range.\n     * This serves as a fallback if no format specific date constraint test is provided\n     *\n     * @i18n\n     */\n    endTimeLabel?: string;\n\n    /**\n     * Constraint text for the date input field for the\n     * absolute range with no time option.\n     * @i18n\n     */\n    dateConstraintText?: string;\n\n    /**\n     * Constraint text for the input fields for the absolute range in 'slashed' format with no time option.\n     * @i18n\n     */\n    slashedDateConstraintText?: string;\n\n    /**\n     * Constraint text for the input fields for the absolute range in 'iso' format with no time option.\n     * @i18n\n     */\n    isoDateConstraintText?: string;\n\n    /**\n     * Constraint text for the input fields for the absolute range.\n     * This serves as a fallback if no format specific datetime constraint test is provided\n     *\n     * @i18n\n     */\n    dateTimeConstraintText?: string;\n\n    /**\n     * Constraint text for the date input fields for the absolute range in 'slashed' format.\n     * @i18n\n     */\n    slashedDateTimeConstraintText?: string;\n\n    /**\n     * Constraint text for the date input fields for the absolute range in 'iso' format with.\n     * @i18n\n     */\n    isoDateTimeConstraintText?: string;\n\n    /**\n     * Constraint text for the month input fields for the absolute range.\n     * This serves as a fallback if no format specific month constraint test is provided.\n     *\n     * @i18n\n     */\n    monthConstraintText?: string;\n\n    /**\n     * Constraint text for the month input fields for the absolute range in 'slashed' format.\n     * @i18n\n     */\n    slashedMonthConstraintText?: string;\n\n    /**\n     * Constraint text for the month input fields for the absolute range in 'iso' format.\n     * @i18n\n     */\n    isoMonthConstraintText?: string;\n\n    /**\n     * Provides a text alternative for the error icon in the error alert.\n     * @i18n\n     */\n    errorIconAriaLabel?: string;\n\n    /**\n     * When the property is set, screen readers announce the selected range when the absolute range gets selected.\n     */\n    renderSelectedAbsoluteRangeAriaLive?: (startDate: string, endDate: string) => string;\n\n    /**\n     * Used as part of the `aria-label` for today's date in the calendar.\n     * @i18n\n     */\n    todayAriaLabel?: string;\n\n    /**\n     * Specifies an `aria-label` for the 'next month' button.\n     * @i18n\n     */\n    nextMonthAriaLabel?: string;\n\n    /**\n     * Specifies an `aria-label` for the 'previous month' button.\n     * @i18n\n     */\n    previousMonthAriaLabel?: string;\n\n    /**\n     * Used as part of the `aria-label` for the current month in the calendar.\n     * @i18n\n     */\n    currentMonthAriaLabel?: string;\n\n    /**\n     * Specifies an `aria-label` for the 'next year' button.\n     * @i18n\n     */\n    nextYearAriaLabel?: string;\n\n    /**\n     * Specifies an `aria-label` for the 'previous year' button.\n     * @i18n\n     */\n    previousYearAriaLabel?: string;\n\n    /**\n     * Placeholder text for date inputs in absolute mode with 'iso' format (dashes).\n     * Should match the expected date format (for example \"YYYY-MM-DD\", \"JJJJ-MM-TT\" for German).\n     * Used for both start and end date inputs.\n     * @i18n\n     */\n    isoDatePlaceholder?: string;\n\n    /**\n     * Placeholder text for date inputs in absolute mode with 'slashed' format (slashes).\n     * Should match the expected date format (for example \"YYYY/MM/DD\", \"JJJJ/MM/TT\" for German).\n     * Used for both start and end date inputs.\n     * @i18n\n     */\n    slashedDatePlaceholder?: string;\n\n    /**\n     * Placeholder text for time inputs in absolute mode.\n     * Should match the expected time format (for example \"hh:mm:ss\", \"HH:MM:SS\").\n     * Used for both start and end time inputs.\n     * @i18n\n     */\n    timePlaceholder?: string;\n  }\n\n  export type AbsoluteFormat = DateFormat;\n\n  export type DateInputFormat = EditableDateFormat | undefined;\n\n  export type TimeInputFormat = TimeInputProps.Format;\n}\n\nexport type DayIndex = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\nexport type QuarterIndex = 0 | 1 | 2;\n"]}