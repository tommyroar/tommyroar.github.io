{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/table/index.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,YAAY,CAAC;AACb,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,6BAA6B,EAAE,MAAM,kEAAkE,CAAC;AAEjH,OAAO,EAAE,sBAAsB,EAAE,MAAM,mDAAmD,CAAC;AAC3F,OAAO,EAAkC,yBAAyB,EAAE,MAAM,4BAA4B,CAAC;AACvG,OAAO,EAAE,6BAA6B,EAAE,MAAM,6DAA6D,CAAC;AAC5G,OAAO,gBAAgB,MAAM,sCAAsC,CAAC;AACpE,OAAO,EAAE,gBAAgB,EAAE,MAAM,sCAAsC,CAAC;AAExE,OAAO,EAAE,kBAAkB,EAAE,MAAM,qBAAqB,CAAC;AAEzD,OAAO,aAAa,EAAE,EAAE,sBAAsB,EAAE,MAAM,YAAY,CAAC;AAGnE,MAAM,KAAK,GAAG,KAAK,CAAC,UAAU,CAC5B,CACE,EACE,KAAK,GAAG,EAAE,EACV,aAAa,GAAG,EAAE,EAClB,OAAO,GAAG,WAAW,EACrB,cAAc,GAAG,aAAa,EAC9B,iBAAiB,GAAG,QAAQ,EAC5B,UAAU,GAAG,CAAC,EACd,GAAG,KAAK,EACM,EAChB,GAA8B,EAC9B,EAAE;;IACF,MAAM,iBAAiB,GAAG,yBAAyB,CAAC,KAAuC,CAAC,CAAC;IAC7F,MAAM,gBAAgB,GACpB,CAAC,KAAK,CAAC,cAAc,IAAI,KAAK,CAAC,cAAc,CAAC,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC;SACtF,MAAA,KAAK,CAAC,aAAa,0CAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA,CAAC;IACjD,MAAM,gBAAgB,GAAG,CAAC,CAAC,CAAA,MAAA,KAAK,CAAC,aAAa,0CAAE,KAAK,CAAA,IAAI,CAAC,CAAC,CAAA,MAAA,KAAK,CAAC,aAAa,0CAAE,IAAI,CAAA,CAAC;IACrF,MAAM,kBAAkB,GAAG,gBAAgB,CACzC,OAAO,EACP;QACE,KAAK,EAAE;YACL,cAAc;YACd,gBAAgB,EAAE,KAAK,CAAC,gBAAgB;YACxC,aAAa,EAAE,KAAK,CAAC,aAAa;YAClC,YAAY,EAAE,KAAK,CAAC,YAAY;YAChC,WAAW,EAAE,KAAK,CAAC,WAAW;YAC9B,OAAO;YACP,SAAS,EAAE,KAAK,CAAC,SAAS;YAC1B,wBAAwB,EAAE,KAAK,CAAC,wBAAwB;YACxD,eAAe,EAAE,KAAK,CAAC,eAAe;YACtC,QAAQ,EAAE,iBAAiB,CAAC,QAAQ;YACpC,iBAAiB;SAClB;QACD,QAAQ,EAAE;YACR,cAAc,EAAE,CAAC,CAAC,KAAK,CAAC,cAAc;YACtC,kBAAkB,EAAE,CAAC,CAAC,KAAK,CAAC,gBAAgB;YAC5C,cAAc,EAAE,CAAC,CAAC,CAAA,MAAA,KAAK,CAAC,cAAc,0CAAE,cAAc,CAAA;YACtD,YAAY,EAAE,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM;YACzE,cAAc,EAAE,CAAC,CAAC,KAAK,CAAC,mBAAmB;YAC3C,UAAU,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC;YACjE,kBAAkB,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,WAAC,OAAA,CAAC,CAAC,CAAA,MAAA,GAAG,CAAC,UAAU,0CAAE,cAAc,CAAA,CAAA,EAAA,CAAC;YACzF,kBAAkB,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,iBAAiB,CAAC;YAClG,gBAAgB;YAChB,gBAAgB;YAChB,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM;YAC7B,iBAAiB,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU;YACrC,UAAU,EAAE,KAAK,CAAC,MAAM;YACxB,qBAAqB,EAAE,OAAO,CAAC,iBAAiB,aAAjB,iBAAiB,uBAAjB,iBAAiB,CAAE,kBAAkB,CAAC;YACrE,eAAe,EAAE,OAAO,CAAC,iBAAiB,aAAjB,iBAAiB,uBAAjB,iBAAiB,CAAE,YAAY,CAAC;YACzD,kBAAkB,EAAE,CAAC,CAAC,KAAK,CAAC,cAAc;YAC1C,iBAAiB,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa;YACxC,kCAAkC,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAC9D,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,aAAa,KAAK,iBAAiB,CAC/C;SACF;KACF,EACD,iBAAiB,CAClB,CAAC;IAEF,MAAM,0BAA0B,GAA6C;QAC3E,IAAI,EAAE,aAAa;QACnB,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;QACvB,UAAU,EAAE;YACV,aAAa,EAAE,KAAK,CAAC,aAAa,IAAI,MAAM;YAC5C,UAAU,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE;YAC7B,kBAAkB,EAAE,GAAG,aAAa,CAAC,MAAM,EAAE;YAC7C,OAAO;SACR;KACF,CAAC;IAEF,MAAM,eAAe,GAAG,kBAAkB,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,aAAa,CAAC,CAAC;IACzF,IAAI,eAAe,EAAE,CAAC;QACpB,0BAA0B,CAAC,UAAU,CAAC,eAAe,GAAG,eAAe,CAAC;QACxE,0BAA0B,CAAC,UAAU,CAAC,iBAAiB,GAAG,GAAG,KAAK,CAAC,iBAAiB,IAAI,KAAK,EAAE,CAAC;IAClG,CAAC;IAED,MAAM,UAAU,GAA2C;QACzD,KAAK;QACL,aAAa;QACb,OAAO;QACP,cAAc;QACd,UAAU;QACV,iBAAiB;QACjB,GAAG,KAAK;QACR,GAAG,kBAAkB;QACrB,GAAG;QACH,GAAG,6BAA6B,CAAC,EAAE,SAAS,EAAE,0BAA0B,EAAE,CAAC;KAC5E,CAAC;IAEF,MAAM,6BAA6B,GAAG;QACpC,mBAAmB,EAAE,cAAc;QACnC,mBAAmB,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW;QACxC,qBAAqB,EAAE,gBAAgB;QACvC,qBAAqB,EAAE,gBAAgB;KACxC,CAAC;IAEF,IAAI,OAAO,KAAK,YAAY,IAAI,OAAO,KAAK,UAAU,EAAE,CAAC;QACvD,OAAO,CACL,oBAAC,6BAA6B,CAAC,QAAQ,IAAC,KAAK,EAAE,6BAA6B;YAC1E,oBAAC,aAAa,OAAK,UAAU,GAAI,CACM,CAC1C,CAAC;IACJ,CAAC;IAED,OAAO,CACL,oBAAC,6BAA6B,CAAC,QAAQ,IAAC,KAAK,EAAE,6BAA6B;QAC1E,oBAAC,sBAAsB;YACrB,oBAAC,sBAAsB,OAAK,UAAU,GAAI,CACnB,CACc,CAC1C,CAAC;AACJ,CAAC,CACqB,CAAC;AAEzB,gBAAgB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AACjC,eAAe,KAAK,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n'use client';\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { AnalyticsFunnelSubStep } from '../internal/analytics/components/analytics-funnel';\nimport { BasePropsWithAnalyticsMetadata, getAnalyticsMetadataProps } from '../internal/base-component';\nimport { CollectionPreferencesMetadata } from '../internal/context/collection-preferences-metadata-context';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { getSortingColumnId } from './header-cell/utils';\nimport { TableForwardRefType, TableProps } from './interfaces';\nimport InternalTable, { InternalTableAsSubstep } from './internal';\n\nexport { TableProps };\nconst Table = React.forwardRef(\n  <T,>(\n    {\n      items = [],\n      selectedItems = [],\n      variant = 'container',\n      contentDensity = 'comfortable',\n      cellVerticalAlign = 'middle',\n      firstIndex = 1,\n      ...props\n    }: TableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    const analyticsMetadata = getAnalyticsMetadataProps(props as BasePropsWithAnalyticsMetadata);\n    const hasHiddenColumns =\n      (props.visibleColumns && props.visibleColumns.length < props.columnDefinitions.length) ||\n      props.columnDisplay?.some(col => !col.visible);\n    const hasStickyColumns = !!props.stickyColumns?.first || !!props.stickyColumns?.last;\n    const baseComponentProps = useBaseComponent(\n      'Table',\n      {\n        props: {\n          contentDensity,\n          resizableColumns: props.resizableColumns,\n          selectionType: props.selectionType,\n          stickyHeader: props.stickyHeader,\n          stripedRows: props.stripedRows,\n          variant,\n          wrapLines: props.wrapLines,\n          enableKeyboardNavigation: props.enableKeyboardNavigation,\n          totalItemsCount: props.totalItemsCount,\n          flowType: analyticsMetadata.flowType,\n          cellVerticalAlign,\n        },\n        metadata: {\n          expandableRows: !!props.expandableRows,\n          progressiveLoading: !!props.getLoadingStatus,\n          groupSelection: !!props.expandableRows?.groupSelection,\n          cellCounters: props.columnDefinitions.filter(dev => !!dev.counter).length,\n          loaderCounters: !!props.renderLoaderCounter,\n          inlineEdit: props.columnDefinitions.some(def => !!def.editConfig),\n          disabledInlineEdit: props.columnDefinitions.some(def => !!def.editConfig?.disabledReason),\n          hasSortableColumns: props.columnDefinitions.some(def => def.sortingField || def.sortingComparator),\n          hasHiddenColumns,\n          hasStickyColumns,\n          hasFilterSlot: !!props.filter,\n          hasPaginationSlot: !!props.pagination,\n          itemsCount: items.length,\n          hasInstanceIdentifier: Boolean(analyticsMetadata?.instanceIdentifier),\n          hasResourceType: Boolean(analyticsMetadata?.resourceType),\n          usesVisibleColumns: !!props.visibleColumns,\n          usesColumnDisplay: !!props.columnDisplay,\n          usesColumnDefinitionsVerticalAlign: props.columnDefinitions.some(\n            def => def.verticalAlign !== cellVerticalAlign\n          ),\n        },\n      },\n      analyticsMetadata\n    );\n\n    const analyticsComponentMetadata: GeneratedAnalyticsMetadataTableComponent = {\n      name: 'awsui.Table',\n      label: { root: 'self' },\n      properties: {\n        selectionType: props.selectionType || 'none',\n        itemsCount: `${items.length}`,\n        selectedItemsCount: `${selectedItems.length}`,\n        variant,\n      },\n    };\n\n    const sortingColumnId = getSortingColumnId(props.columnDefinitions, props.sortingColumn);\n    if (sortingColumnId) {\n      analyticsComponentMetadata.properties.sortingColumnId = sortingColumnId;\n      analyticsComponentMetadata.properties.sortingDescending = `${props.sortingDescending || false}`;\n    }\n\n    const tableProps: Parameters<typeof InternalTable<T>>[0] = {\n      items,\n      selectedItems,\n      variant,\n      contentDensity,\n      firstIndex,\n      cellVerticalAlign,\n      ...props,\n      ...baseComponentProps,\n      ref,\n      ...getAnalyticsMetadataAttribute({ component: analyticsComponentMetadata }),\n    };\n\n    const collectionPreferencesMetadata = {\n      tableContentDensity: contentDensity,\n      tableHasStripedRows: !!props.stripedRows,\n      tableHasHiddenColumns: hasHiddenColumns,\n      tableHasStickyColumns: hasStickyColumns,\n    };\n\n    if (variant === 'borderless' || variant === 'embedded') {\n      return (\n        <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n          <InternalTable {...tableProps} />\n        </CollectionPreferencesMetadata.Provider>\n      );\n    }\n\n    return (\n      <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n        <AnalyticsFunnelSubStep>\n          <InternalTableAsSubstep {...tableProps} />\n        </AnalyticsFunnelSubStep>\n      </CollectionPreferencesMetadata.Provider>\n    );\n  }\n) as TableForwardRefType;\n\napplyDisplayName(Table, 'Table');\nexport default Table;\n"]}